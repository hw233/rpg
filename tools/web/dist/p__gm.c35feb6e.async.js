(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[210],{70347:function(){},42546:function(Zt,Me,l){"use strict";l.r(Me),l.d(Me,{default:function(){return gt}});var Ct=l(57106),$e=l(99683),St=l(13062),R=l(71230),xt=l(89032),Z=l(15746),Pt=l(49111),de=l(19650),bt=l(43358),De=l(34041),O=l(39428),Et=l(34792),Ke=l(48086),A=l(3182),j=l(2824),Ot=l(30887),me=l(18515),n=l(67294),Be=l(67265),G=l(28991),Ve={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},Ae=Ve,Le=l(27029),Te=function(a,o){return n.createElement(Le.Z,(0,G.Z)((0,G.Z)({},a),{},{ref:o,icon:Ae}))};Te.displayName="MailOutlined";var We=n.forwardRef(Te),jt=l(38663),Nt=l(70347),Mt=l(18106),E=l(96156),$=l(22122),Ie=l(94184),ue=l.n(Ie),Je=l(98423),ve=l(65632),He=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o},Qe=function(a){var o=a.prefixCls,t=a.className,r=a.hoverable,f=r===void 0?!0:r,g=He(a,["prefixCls","className","hoverable"]);return n.createElement(ve.C,null,function(C){var N=C.getPrefixCls,i=N("card",o),d=ue()("".concat(i,"-grid"),t,(0,E.Z)({},"".concat(i,"-grid-hoverable"),f));return n.createElement("div",(0,$.Z)({},g,{className:d}))})},Fe=Qe,Ue=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o},Xe=function(a){return n.createElement(ve.C,null,function(o){var t=o.getPrefixCls,r=a.prefixCls,f=a.className,g=a.avatar,C=a.title,N=a.description,i=Ue(a,["prefixCls","className","avatar","title","description"]),d=t("card",r),v=ue()("".concat(d,"-meta"),f),S=g?n.createElement("div",{className:"".concat(d,"-meta-avatar")},g):null,u=C?n.createElement("div",{className:"".concat(d,"-meta-title")},C):null,M=N?n.createElement("div",{className:"".concat(d,"-meta-description")},N):null,w=u||M?n.createElement("div",{className:"".concat(d,"-meta-detail")},u,M):null;return n.createElement("div",(0,$.Z)({},i,{className:v}),S,w)})},Ye=Xe,Ge=l(16004),ke=l(97647),qe=function(e,a){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&a.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)a.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};function _e(e){var a=e.map(function(o,t){return n.createElement("li",{style:{width:"".concat(100/e.length,"%")},key:"action-".concat(t)},n.createElement("span",null,o))});return a}var fe=n.forwardRef(function(e,a){var o,t,r=n.useContext(ve.E_),f=r.getPrefixCls,g=r.direction,C=n.useContext(ke.Z),N=function(P){var p;(p=e.onTabChange)===null||p===void 0||p.call(e,P)},i=function(){var P;return n.Children.forEach(e.children,function(p){p&&p.type&&p.type===Fe&&(P=!0)}),P},d=e.prefixCls,v=e.className,S=e.extra,u=e.headStyle,M=u===void 0?{}:u,w=e.bodyStyle,T=w===void 0?{}:w,L=e.title,ee=e.loading,W=e.bordered,te=W===void 0?!0:W,pe=e.size,ae=e.type,I=e.cover,D=e.actions,z=e.tabList,ge=e.children,J=e.activeTabKey,K=e.defaultActiveTabKey,H=e.tabBarExtraContent,Ze=e.hoverable,Q=e.tabProps,B=Q===void 0?{}:Q,ne=qe(e,["prefixCls","className","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),m=f("card",d),re=T.padding===0||T.padding==="0px"?{padding:24}:void 0,b=n.createElement("div",{className:"".concat(m,"-loading-block")}),le=n.createElement("div",{className:"".concat(m,"-loading-content"),style:re},n.createElement(R.Z,{gutter:8},n.createElement(Z.Z,{span:22},b)),n.createElement(R.Z,{gutter:8},n.createElement(Z.Z,{span:8},b),n.createElement(Z.Z,{span:15},b)),n.createElement(R.Z,{gutter:8},n.createElement(Z.Z,{span:6},b),n.createElement(Z.Z,{span:18},b)),n.createElement(R.Z,{gutter:8},n.createElement(Z.Z,{span:13},b),n.createElement(Z.Z,{span:9},b)),n.createElement(R.Z,{gutter:8},n.createElement(Z.Z,{span:4},b),n.createElement(Z.Z,{span:3},b),n.createElement(Z.Z,{span:16},b))),U=J!==void 0,Ce=(0,$.Z)((0,$.Z)({},B),(o={},(0,E.Z)(o,U?"activeKey":"defaultActiveKey",U?J:K),(0,E.Z)(o,"tabBarExtraContent",H),o)),X,oe=z&&z.length?n.createElement(Ge.Z,(0,$.Z)({size:"large"},Ce,{className:"".concat(m,"-head-tabs"),onChange:N}),z.map(function(x){return n.createElement(Ge.Z.TabPane,{tab:x.tab,disabled:x.disabled,key:x.key})})):null;(L||S||oe)&&(X=n.createElement("div",{className:"".concat(m,"-head"),style:M},n.createElement("div",{className:"".concat(m,"-head-wrapper")},L&&n.createElement("div",{className:"".concat(m,"-head-title")},L),S&&n.createElement("div",{className:"".concat(m,"-extra")},S)),oe));var Se=I?n.createElement("div",{className:"".concat(m,"-cover")},I):null,xe=n.createElement("div",{className:"".concat(m,"-body"),style:T},ee?le:ge),Pe=D&&D.length?n.createElement("ul",{className:"".concat(m,"-actions")},_e(D)):null,h=(0,Je.Z)(ne,["onTabChange"]),s=pe||C,y=ue()(m,(t={},(0,E.Z)(t,"".concat(m,"-loading"),ee),(0,E.Z)(t,"".concat(m,"-bordered"),te),(0,E.Z)(t,"".concat(m,"-hoverable"),Ze),(0,E.Z)(t,"".concat(m,"-contain-grid"),i()),(0,E.Z)(t,"".concat(m,"-contain-tabs"),z&&z.length),(0,E.Z)(t,"".concat(m,"-").concat(s),s),(0,E.Z)(t,"".concat(m,"-type-").concat(ae),!!ae),(0,E.Z)(t,"".concat(m,"-rtl"),g==="rtl"),t),v);return n.createElement("div",(0,$.Z)({ref:a},h,{className:y}),X,Se,xe,Pe)});fe.Grid=Fe,fe.Meta=Ye;var we=fe,Re=l(11849),Tt=l(13254),et=l(14277),tt=l(952),q=l(81253),c=l(85893),_=l(7748),at=["fieldProps","min","proFieldProps","max"],nt=function(a,o){var t=a.fieldProps,r=a.min,f=a.proFieldProps,g=a.max,C=(0,q.Z)(a,at);return(0,c.jsx)(_.Z,(0,G.Z)({valueType:"digit",fieldProps:(0,G.Z)({min:r,max:g},t),ref:o,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:f},C))},rt=n.forwardRef(nt),lt=["fieldProps","proFieldProps"],ot=["fieldProps","proFieldProps"],he="text",st=function(a){var o=a.fieldProps,t=a.proFieldProps,r=(0,q.Z)(a,lt);return(0,c.jsx)(_.Z,(0,G.Z)({valueType:he,fieldProps:o,filedConfig:{valueType:he},proFieldProps:t},r))},it=function(a){var o=a.fieldProps,t=a.proFieldProps,r=(0,q.Z)(a,ot);return(0,c.jsx)(_.Z,(0,G.Z)({valueType:"password",fieldProps:o,proFieldProps:t,filedConfig:{valueType:he}},r))},ye=st;ye.Password=it,ye.displayName="ProFormComponent";var ct=ye,dt=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],mt=n.forwardRef(function(e,a){var o=e.fieldProps,t=e.unCheckedChildren,r=e.checkedChildren,f=e.proFieldProps,g=(0,q.Z)(e,dt);return(0,c.jsx)(_.Z,(0,G.Z)({valueType:"switch",fieldProps:(0,G.Z)({unCheckedChildren:t,checkedChildren:r},o),ref:a,valuePropName:"checked",proFieldProps:f,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},g))}),ut=mt,vt=function(a){var o=(0,n.useRef)(),t=(0,n.useState)({}),r=(0,j.Z)(t,2),f=r[0],g=r[1],C={labelCol:{span:4},wrapperCol:{span:14}},N=function(d,v){a.onSubmitCommand&&a.onSubmitCommand(d,v)};return(0,c.jsxs)(de.Z,{direction:"vertical",style:{width:"100%"},children:[(0,c.jsx)(we,{style:{height:"100%"},title:a.name,children:a.command===void 0&&(0,c.jsx)(et.Z,{description:"\u672A\u9009\u62E9GM\u6307\u4EE4"})||(0,n.createElement)(tt.ZP,(0,Re.Z)((0,Re.Z)({},C),{},{layout:"horizontal",key:a.command,formRef:o,submitter:{render:function(d,v){return(0,c.jsx)(R.Z,{children:(0,c.jsx)(Z.Z,{span:14,offset:4,children:(0,c.jsx)(de.Z,{children:v})})})}},onFinish:function(){var i=(0,A.Z)((0,O.Z)().mark(function d(v){return(0,O.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:N(a.command||"",v);case 1:case"end":return u.stop()}},d)}));return function(d){return i.apply(this,arguments)}}(),onValuesChange:function(){var i=(0,A.Z)((0,O.Z)().mark(function d(v){var S,u,M;return(0,O.Z)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:S=f,u=f[a.command||""]||{};for(M in v)u[M]=v[M];S[a.command||""]=u,g(S);case 5:case"end":return T.stop()}},d)}));return function(d){return i.apply(this,arguments)}}(),initialValues:f[a.command||""]||{},onReset:(0,A.Z)((0,O.Z)().mark(function i(){var d,v;return(0,O.Z)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:v=f,v[a.command||""]={},g(v),(d=o.current)===null||d===void 0||d.resetFields();case 4:case"end":return u.stop()}},i)}))}),a.args!==void 0&&a.args.map(function(i){return i.type==="number"&&(0,c.jsx)(rt,{width:"md",name:i.index,label:i.name},i.index)||i.type==="string"&&(0,c.jsx)(ct,{width:"md",name:i.index,label:i.name},i.index)||i.type==="bool"&&(0,c.jsx)(ut,{name:i.index,label:i.name},i.index)}))}),a.command&&(0,c.jsx)(we,{style:{width:"100%"},title:"\u8F93\u51FA\u7ED3\u679C",children:(0,c.jsx)("pre",{children:a.response})})]})},ft=vt,ht=l(55168),yt=l(48764).Buffer,pt=function(){var a=me.Z.SubMenu,o=(0,n.useState)(),t=(0,j.Z)(o,2),r=t[0],f=t[1],g=(0,n.useState)([]),C=(0,j.Z)(g,2),N=C[0],i=C[1],d=(0,n.useState)(void 0),v=(0,j.Z)(d,2),S=v[0],u=v[1],M=(0,n.useState)([]),w=(0,j.Z)(M,2),T=w[0],L=w[1],ee=(0,n.useState)([]),W=(0,j.Z)(ee,2),te=W[0],pe=W[1],ae=(0,n.useState)({}),I=(0,j.Z)(ae,2),D=I[0],z=I[1],ge=(0,n.useState)({}),J=(0,j.Z)(ge,2),K=J[0],H=J[1],Ze=(0,n.useState)({}),Q=(0,j.Z)(Ze,2),B=Q[0],ne=Q[1],m=(0,n.useState)([]),re=(0,j.Z)(m,2),b=re[0],le=re[1],U=function(s,y){if(!(s===void 0||s==="")){var x=B||{};x[s]=y,ne({}),ne(x)}},Ce=function(){var h=(0,A.Z)((0,O.Z)().mark(function s(y){var x,P,p,be,Ee,se,F,Oe,V,Y,ie,ce,ze,je,Ne;return(0,O.Z)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,new Response(y.data).arrayBuffer();case 2:if(x=k.sent,P=JSON.parse(yt.from(x).toString()),P.type=="gmList"){for(p=JSON.parse(P.data),be=[],Ee=[],se={},F=0;F<p.length;F++){Oe=[];for(V in p[F].value){for(Y={command:p[F].value[V].name+"("+V+")",args:[]},ie=[],ce=0;ce<p[F].value[V].args.length;ce++)ie.push(p[F].value[V].args[ce]);Y.args=ie,Oe.push(Y),se[Y.command]={command:V,args:ie,name:Y.command}}ze={name:p[F].name,value:Oe},be.push(ze),Ee.push(p[F].name)}L(be),pe(Ee),z(se),je=[];for(Ne in se)je.push({label:Ne,value:Ne});i(je)}else P.type==="gmCommand"?U(P.command,P.data):P.type=="error"&&Ke.default.error(P.data);case 5:case"end":return k.stop()}},s)}));return function(y){return h.apply(this,arguments)}}(),X=function(){var s=new WebSocket("ws://localhost:9000/gm");return s.onopen=function(){f(s)},s.onclose=function(){f(void 0)},s.onmessage=Ce,s};(0,ht.QT)((0,A.Z)((0,O.Z)().mark(function h(){return(0,O.Z)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:X();case 1:case"end":return y.stop()}},h)}))),(0,n.useEffect)(function(){r!==void 0&&r.send(JSON.stringify({type:"gmList"}))},[r]);var oe=function(s){le([s.key]),u(void 0)},Se=function(s){var y=D[s.key];H(y)},xe=function(s,y){if(y.command=s,U(s,void 0),r===void 0){var x=X();setTimeout(function(){x.send(JSON.stringify({type:"gmCommand",data:y}))},500)}else r.send(JSON.stringify({type:"gmCommand",data:y,command:s}))},Pe=function(s){le([s]),u(s),H(s!==void 0?D[s]:{})};return(0,c.jsx)(Be.ZP,{children:T.length>0&&te.length>0&&(0,c.jsxs)(R.Z,{gutter:[30,8],children:[(0,c.jsx)(Z.Z,{style:{width:"20%",height:"100%"},children:(0,c.jsxs)(de.Z,{direction:"vertical",style:{width:"100%"},children:[(0,c.jsx)(De.Z,{allowClear:!0,showSearch:!0,style:{width:"100%"},placeholder:"\u8F93\u5165\u8981\u67E5\u8BE2\u7684GM\u6307\u4EE4",options:N,onChange:Pe,value:S}),(0,c.jsx)(me.Z,{mode:"inline",defaultOpenKeys:te,onClick:oe,onSelect:Se,forceSubMenuRender:!0,selectedKeys:b,children:T.map(function(h){return(0,c.jsx)(a,{icon:(0,c.jsx)(We,{}),title:h.name,children:h.value.length>0&&h.value.map(function(s){return(0,c.jsx)(me.Z.Item,{children:s.command},s.command)})},h.name)})})]})}),(0,c.jsx)(Z.Z,{style:{width:"80%",height:"100%"},children:(0,c.jsx)(ft,{command:K.command,args:K.args,name:K.name,onSubmitCommand:xe,response:B==null?void 0:B[K.command||""]})})]})||(0,c.jsx)($e.ZP,{status:"404",title:"404",subTitle:"\u672A\u83B7\u53D6\u5230GM\u547D\u4EE4\u5217\u8868"})})},gt=pt}}]);
